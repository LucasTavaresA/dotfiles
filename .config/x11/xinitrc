#!/bin/sh

# miscel√¢nea
# xautolock -detectsleep -time 30 -locker "slock" -notify 30 -notifier "notify-send Slock -u critical -t 1800000 'BLOQUEANDO A TELA 30 SEGUNDOS'" &
mkdir .cache/clipmenu
export CM_DIR="$HOME/.cache/clipmenu"
clipmenud &
pidof dunst || dunst &
pidof xbanish || xbanish &
pidof syncthing || syncthing &
pidof emacs || doom_reset &
fzf_man update &
# musica
pidof playerctld || playerctld daemon &
pidof mpd || mpd &
pidof mpd-mpris || mpd-mpris &
# aparencia
pidof picom || picom &
nitrogen --restore &
xsetroot -cursor_name left_ptr
xrdb -load "$HOME/.config/x11/xresources" &
# sistema
checar_updates &

if [ "$WM" = "herbstluftwm" ]; then
    flags=" --locked"
elif [ "$WM" = "dwm" ]; then
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_dwm" &
    dwmblocks &
elif [ "$WM" = "bspwm" ]; then
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_bspwm" &
else
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_nowm" &
fi

if [ -n "$flags" ]; then
    ssh-agent $WM$flags
else
    ssh-agent "$WM"
fi
