#!/bin/sh

xrdb -load $HOME/.config/x11/xresources &

# mouse
xsetroot -cursor_name left_ptr

# clipmenu
mkdir .cache/clipmenu
export CM_DIR="$HOME/.cache/clipmenu"
clipmenud &

# protetor de tela
xautolock -detectsleep -time 30 -locker "slock" -notify 30 -notifier "notify-send Slock -u critical -t 1800000 'BLOQUEANDO A TELA 30 SEGUNDOS'" &

dunst &
nitrogen --restore &
nm-applet &
xbanish &
syncthing &
playerctld daemon
mpd &
mpd-mpris &
picom &
checar_updates &
fzf_man update &
emacs --daemon &

if [ "$WM" = "herbstluftwm" ]; then
    flags=" --locked"
elif [ "$WM" = "dwm" ]; then
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_dwm" &
    dwmblocks &
elif [ "$WM" = "stumpwm" ]; then
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_stumpwm" &
elif [ "$WM" = "bspwm" ]; then
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_bspwm" &
else
    sxhkd -c "$HOME/.config/sxhkd/sxhkd_nowm" &
fi

if [ -n "$flags" ]; then
    ssh-agent $WM$flags
else
    ssh-agent "$WM"
fi
